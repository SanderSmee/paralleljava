modelVersion: 4.0.0
groupId: nl.jqno.paralleljava
artifactId: parallel-java
version: 1.0
packaging: jar

name: parallel-java
description: "Todo-Backend built with Java from a Parallel Universe: a demo project to illustrate the point of my talk 'Java from a Parallel Universe'"

properties: {
  encoding: utf-8,
  maven.compiler.source: 11,
  maven.compiler.target: 11
}

dependencies:
  - { groupId: io.vavr, artifactId: vavr, version: 0.9.3 }
  - { groupId: com.sparkjava, artifactId: spark-core, version: 2.7.2 }
  - { groupId: org.slf4j, artifactId: slf4j-simple, version: 1.7.26 }
  - { groupId: junit, artifactId: junit, version: 3.8.2, scope: test }
  - { groupId: com.tngtech.archunit, artifactId: archunit, version: 0.9.3, scope: test }

build:
  plugins:
    - groupId: org.apache.maven.plugins
      artifactId: maven-compiler-plugin
      version: 3.8.0

    - groupId: org.apache.maven.plugins
      artifactId: maven-dependency-plugin
      version: 3.1.1
      executions:
        - id: default
          phase: package
          goals: [copy-dependencies]

    - groupId: org.apache.maven.plugins
      artifactId: maven-checkstyle-plugin
      version: 3.0.0
      dependencies:
        - { groupId: com.puppycrawl.tools, artifactId: checkstyle, version: 8.18 }
      configuration:
        configLocation: checkstyle.xml
        includeTestSourceDirectory: true
        encoding: UTF-8
        consoleOutput: true
        excludes: "**/module-info.java"
      executions:
        - id: default
          phase: verify
          goals: [check]
          configuration:
            failsOnError: true
