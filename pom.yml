modelVersion: 4.0.0
groupId: nl.jqno.paralleljava
artifactId: parallel-java
version: 1.0
packaging: jar

name: parallel-java
description: "Todo-Backend built with Java from a Parallel Universe: a demo project to illustrate the point of my talk 'Java from a Parallel Universe'"

properties: {
  encoding: utf-8,
  maven.compiler.source: 11,
  maven.compiler.target: 11
}

dependencies:
  - { groupId: io.vavr, artifactId: vavr, version: 0.9.3 }
  - { groupId: com.sparkjava, artifactId: spark-core, version: 2.7.2 }
  - { groupId: org.slf4j, artifactId: slf4j-simple, version: 1.7.26 }
  - { groupId: org.specsy, artifactId: specsy-java, version: 2.3.3, scope: test }

build:
  plugins:
    - groupId: org.apache.maven.plugins
      artifactId: maven-assembly-plugin
      configuration:
        descriptorRefs: [jar-with-dependencies]
        archive:
          manifest:
            mainClass: nl.jqno.paralleljava.Main
      executions:
        - id: default
          goals: [single]
          phase: package

    - groupId: org.apache.maven.plugins
      artifactId: maven-checkstyle-plugin
      version: 3.0.0
      dependencies:
        - { groupId: com.puppycrawl.tools, artifactId: checkstyle, version: 8.18 }
      configuration:
        configLocation: checkstyle.xml
        includeTestSourceDirectory: true
        encoding: UTF-8
        consoleOutput: true
      executions:
        - id: default
          goals: [check]
          phase: verify
          configuration:
            failsOnError: true
